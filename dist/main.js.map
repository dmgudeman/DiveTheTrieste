{"version":3,"file":"main.js","mappings":"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","sources":["webpack://triest/./src/assets/data/sprites.ts","webpack://triest/./src/index.ts","webpack://triest/./src/scripts/boundary.ts","webpack://triest/./src/scripts/calcConstant.ts","webpack://triest/./src/scripts/calcPosition.ts","webpack://triest/./src/scripts/canvas2Helpers.ts","webpack://triest/./src/scripts/cockpit.ts","webpack://triest/./src/scripts/constants.ts","webpack://triest/./src/scripts/edText.ts","webpack://triest/./src/scripts/eventBus.ts","webpack://triest/./src/scripts/images.ts","webpack://triest/./src/scripts/initialValues.ts","webpack://triest/./src/scripts/keymaster.ts","webpack://triest/./src/scripts/modal.ts","webpack://triest/./src/scripts/move.ts","webpack://triest/./src/scripts/ocean.ts","webpack://triest/./src/scripts/sub.ts","webpack://triest/./src/scripts/util.ts","webpack://triest/./src/scripts/zone.ts","webpack://triest/webpack/bootstrap","webpack://triest/webpack/startup"],"sourcesContent":["export const sprites = [\n    { x: 0, y: 0, width: 125, height: 200 },\n    { x: 135, y: 0, width: 135, height: 200 },\n    { x: 280, y: 0, width: 125, height: 200 },\n    { x: 410, y: 0, width: 140, height: 200 },\n];\n\nexport const spritesL = [\n    { x: 30, y: 0, width: 125, height: 200 },\n    { x: 165, y: 0, width: 135, height: 200 },\n    { x: 310, y: 0, width: 125, height: 200 },\n    { x: 440, y: 0, width: 140, height: 200 },\n\n]\n\nexport const crashSprites = [\n    { x: 40, y: 20, width: 200, height:250 },\n    { x: 240, y: 20, width: 200, height: 250 },\n    { x: 440, y: 20, width: 200, height: 250 },\n    { x: 640, y: 20, width: 200, height: 250 },\n  \n];\n\nexport const crashSpritesL = [\n    { x: 100, y:0, width:800, height:1200},\n    { x: 900, y:0, width:800, height:1200},\n    { x: 1700, y:0,width:800, height:1200},\n    { x: 2500, y:0,width:800, height:1200},\n  \n]","// dmgudeman.github.io/DiveTheTrieste\n\n// canvas1 is the ocean floor and sub\n// canvas2 is opening\n// canvas3 is the cockpit\n\nimport { showCanvas1, showCanvas2, showCanvas3 } from \"./scripts/util\";\n\nimport Sub from \"./scripts/sub\";\nimport Ocean from \"./scripts/ocean\";\nimport Cockpit from \"./scripts/cockpit\";\nimport Keymaster from \"./scripts/keymaster\";\nimport CalcPosition from \"./scripts/calcPosition\";\nimport InitialValues from \"./scripts/initialValues\";\nimport { drawCanvas2 } from \"./scripts/canvas2Helpers\";\n\nconst initialValues = InitialValues.getInstance();\n\nexport const WIDTH = (): number => initialValues.getWidth(); // convert constants into functions\nexport const HEIGHT = (): number => initialValues.getHeight();\nexport const globalCockpit = { cockpit: null };\nexport let ctx1: CanvasRenderingContext2D;\nexport let ctx2: CanvasRenderingContext2D;\nexport let ctx3: CanvasRenderingContext2D;\nexport let ocean: Ocean;\nexport let sub: Sub;\nexport let cockpit: Cockpit;\nexport let key: Keymaster;\n\nlet audioFlag = false;\n\n// make the instruction page canvas\nlet isInstructions1Visible = true;\nconst backgroundImage = new Image();\nbackgroundImage.src = \"src/assets/openOcean.png\"; // background for opening page\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n \n    const canvas1: HTMLCanvasElement = document.getElementById(\n        \"canvas1\"\n    ) as HTMLCanvasElement;\n    const canvas2: HTMLCanvasElement = document.getElementById(\n        \"canvas2\"\n    ) as HTMLCanvasElement;\n    const canvas3: HTMLCanvasElement = document.getElementById(\n        \"canvas3\"\n    ) as HTMLCanvasElement;\n    const gitHubButton: HTMLElement = document.getElementById(\n        \"gitHubButton\"\n    ) as HTMLElement;\n    const linkedInButton: HTMLElement = document.getElementById(\n        \"linkedInButton\"\n    ) as HTMLElement;\n    const musicNoteButton: HTMLElement = document.getElementById(\n        \"musicNoteButton\"\n    ) as HTMLElement;\n    const goToOceanButton: HTMLElement = document.getElementById(\n        \"trieste3Container\"\n    ) as HTMLElement;\n    const homeButton: HTMLElement = document.getElementById(\n        \"homeButton\"\n    ) as HTMLElement;\n\n    const initializeCanvases = () => {\n         \n        canvas1.width = WIDTH();\n        canvas1.height = HEIGHT();\n        canvas2.width = WIDTH();\n        canvas2.height = HEIGHT();\n        canvas3.width = WIDTH();\n        canvas3.height = HEIGHT();\n        ctx1 = canvas1.getContext(\"2d\");\n        ctx2 = canvas2.getContext(\"2d\");\n        ctx3 = canvas3.getContext(\"2d\");\n        ocean = Ocean.getInstance(ctx1);\n        sub = Sub.getInstance(ctx1);\n        cockpit = new Cockpit(ctx3);\n        globalCockpit.cockpit = cockpit;\n        cockpit.debounceDraw(100);\n        key = new Keymaster(ctx1);\n        animateSprite();\n        document.addEventListener(\"keydown\", keyDown);\n        CalcPosition.getInstance();\n        drawCanvas2(canvas2, ctx2, backgroundImage, isInstructions1Visible);\n        showCanvas2();\n        update();\n\n    }\n\n    const resizeCanvases = () => {\n        canvas1.width = WIDTH();\n        canvas1.height = HEIGHT();\n        canvas2.width = WIDTH();\n        canvas2.height = HEIGHT();\n        canvas3.width = WIDTH();\n        canvas3.height = HEIGHT();\n        ctx1 = canvas1.getContext(\"2d\");\n        ctx2 = canvas2.getContext(\"2d\");\n        ctx3 = canvas3.getContext(\"2d\");\n        cockpit.debounceDraw(100)\n        ocean.draw();\n        sub.draw();\n        drawCanvas2(canvas2, ctx2, backgroundImage, isInstructions1Visible);\n    };\n\n    backgroundImage.onload = () => {\n       initializeCanvases();\n    }\n\n    // printInitialViewPortStats();\n    window.addEventListener(\"resize\", function () {\n        resizeCanvases();\n        printInitialViewPortStats();\n    });\n\n  \n\n    gitHubButton.addEventListener(\"click\", () => {\n        window.location.href = \"https://github.com/dmgudeman\";\n    });\n\n    linkedInButton.addEventListener(\"click\", () => {\n        window.location.href = \"https://www.linkedin.com/in/davidmgudeman/\";\n    });\n\n    homeButton.addEventListener(\"click\", () => {\n        showCanvas2();\n    });\n\n    let audio = document.getElementById(\"music\");\n    function toggleAudio(audio) {\n        if (audioFlag) {\n            audio.play();\n            musicNoteButton.classList.add(\"redNote\");\n        } else {\n            audio.pause();\n            musicNoteButton.classList.remove(\"redNote\");\n        }\n        audioFlag = !audioFlag;\n    }\n    toggleAudio(audio);\n\n    musicNoteButton.addEventListener(\"click\", (e) => {\n        toggleAudio(audio);\n    });\n\n    //use update to make sure the canvas is rendered\n    // function handler1() {\n    //     cockpit.draw();\n    //     showCanvas3();\n    //     update();\n    // }\n    // ctx1.canvas.addEventListener(\"mousedown\", handler1);\n\n    // adding click function to the cockpit\n    const rect = canvas3.getBoundingClientRect();\n    canvas3.addEventListener(\"mousedown\", (e) => {\n        const x = e.clientX - rect.left;\n        const y = e.clientY - rect.top;\n        if (\n            x > 300 &&\n            x < canvas3.width * 0.7 &&\n            y > 100 &&\n            y < canvas3.height * 0.7\n        ) {\n            cockpit.draw();\n        }\n    });\n\n    function clear() {\n        ctx1.clearRect(0, 0, canvas1.width, canvas1.height);\n    }\n\n    // MAIN ANIMATION LOOP //////\n    function update() {\n        clear();\n        ocean.draw();\n        sub.draw();\n        requestAnimationFrame(update);\n    }\n    // start the seperate animation loop in the sub\n    // started in the initializer function\n    function animateSprite() {\n        sub.updateSprite();\n        requestAnimationFrame(animateSprite);\n    }\n   \n    function keyDown(e: KeyboardEvent) {\n        key.keyDown(e, ctx1, ctx2, ctx3);\n        console.log('PRESSED')\n    }\n    \n});\n\nconst printInitialViewPortStats = () => {\n    console.log(\"=======================\");\n    console.log(\"window width is \" + window.innerWidth);\n    console.log(\"viewport width is \" + window.visualViewport.width);\n    console.log(\"WIDTH\", WIDTH());\n    console.log(\"--------------------\");\n    console.log(\"window height is \" + window.innerHeight);\n    console.log(\"viewport height is \" + window.visualViewport.height);\n    console.log(\"HEIGHT\", HEIGHT);\n    console.log(\"=======================\");\n    console.log(\"ASPECT_RATIO\", WIDTH() / HEIGHT());\n    console.log(\"=======================\");\n    console.log(\"FULL_LAT_LIMIT\", initialValues.getFullLatLimit());\n    console.log(\"FULL_VERTICAL_LIMIT\", initialValues.getFullVertLimit());\n    console.log(\"SUB_INITAL_LAT_POS\", initialValues.getInitial_X());\n    console.log(\"INITIAL_Y_POSITION\", initialValues.getInitial_Y());\n    console.log(\"OCEAN_LAT_LIMIT\", initialValues.getOceanLatLimit());\n    console.log(\"OCEAN_VERT_LIMIT\", initialValues.getOceanVertLimit());\n    console.log(\"VAR_DEPTH\", CalcPosition.getInstance().calcDepthLimit());\n    console.log(\"--------------------\");\n    console.log(\"=======================\");\n};\n","import { SEA_DEPTH, DIST_CA_TO_TRENCH } from \"./constants\";\nimport CalcConstant from \"./calcConstant\";\nimport Zone from \"./zone\";\nimport InitialValues from \"./initialValues\";\nimport CalcPosition from \"./calcPosition\";\nimport { IMapPointObject } from \"./types\";\n\nconst calcPosition = CalcPosition.getInstance();\nconst initialValues = InitialValues.getInstance();\nconst calcConstant = new CalcConstant();\n\nexport function showDepth() {\n    const conversion: number = SEA_DEPTH / initialValues.getHeight(); // 19.64 feet per pixel\n    const conversionShallow: number = 2; // 2 feet per pixel\n    let composite: number = calcPosition.getCompVert();\n    const depthGauge = document.getElementById(\"depth\");\n    const IPDepthGauge = document.getElementById(\"IPDepthGauge\");\n    let depth: number;\n\n    if (composite > -500) {\n        depth = Math.floor(conversionShallow * -composite);\n        depthGauge.innerHTML = `Depth: ${Math.floor(depth)} feet`;\n        IPDepthGauge.innerHTML = `Depth: ${Math.floor(depth)} ft`;\n    } else if (composite > -1000) {\n        depth = composite * -conversion;\n        depthGauge.innerHTML = `Depth: ${Math.floor(depth)} feet`;\n        IPDepthGauge.innerHTML = `Depth: ${Math.floor(depth)} ft`;\n    } else {\n        let miles = (conversion * -composite) / 5280;\n        depth = parseFloat(miles.toFixed(1));\n        depthGauge.innerHTML = `Depth: ${depth} mile`;\n        IPDepthGauge.innerHTML = `Depth: ${depth} mi`;\n    }\n    if (depth < 0) depth = 0;\n\n    return depth;\n}\n\nexport function showDistToBottom(){\n    const IPDistToBottom = document.getElementById(\"IPDistToBottom\");\n    const vert = calcPosition.getCompVert();\n    const depthLimit =calcPosition.calcDepthLimit();\n    const diff = vert - depthLimit;\n    IPDistToBottom.innerHTML = `Dist to Sea Floor: ${diff} ft`;\n\n}\n\nexport function showGeoDisplay(): void {\n    const IPZoneGauge = document.getElementById(\"IPZoneGauge\");\n    let mapPointObject: IMapPointObject = calcPosition.getMapPointObject();\n    let display = mapPointObject.display;\n    if (calcPosition.getCompLat() === 0) display = 'Home';\n    IPZoneGauge.classList.remove('IPTrench');\n    if (display === 'Marina Trench') {\n        IPZoneGauge.classList.add('IPTrench');\n    }\n    \n    IPZoneGauge.innerHTML = `${display}`;\n}\n\nexport function showLat(): number {\n    const conversion = Math.ceil(\n        Math.abs(DIST_CA_TO_TRENCH / calcConstant.getDistCAtoTrench())\n    );\n    let composite: number = Math.abs(calcPosition.getCompLat());\n    let lat: number;\n    lat = Math.floor(Math.abs(composite * conversion));\n    if (composite < 0) lat = 0;\n    const IPLatGauge = document.getElementById(\"IPLatGauge\");\n    IPLatGauge.innerHTML = `Dist: ${lat} mi`;\n    return lat;\n}\n\nexport function showZone(): string {\n    const zone = new Zone();\n    const title = zone.upDateZoneObject().title;\n    const IPZoneGauge = document.getElementById(\"IPZoneGauge\");\n    IPZoneGauge.innerHTML = `${title}`;\n    return title;\n}\n\nexport function showMouseAsSub(e: MouseEvent) {\n    var x = e.clientX - initialValues.getInitial_X();\n    var y = e.clientY - initialValues.getInitial_Y();\n    console.log(\"X: \" + x + \", Y: \" + y);\n}\n","import { MAP_POINT_OBJECTS, VERTICAL_VELOCITY } from \"./constants\";\nimport { IMapPointObject } from \"./types\";\n\nclass CalcConstant {\n    constructor() {}\n\n    getDistCAtoTrench() {\n        return MAP_POINT_OBJECTS[10].point[0];\n    }\n\n    getPreviousMapPointObject(num: number): IMapPointObject {\n        let result = MAP_POINT_OBJECTS.filter(\n            (mapPoint) => mapPoint.id === num - 1\n        );\n        return result[0];\n    }\n    roundDownToNearestLatVel(num: number) {\n        return Math.floor(num / VERTICAL_VELOCITY) * VERTICAL_VELOCITY;\n    }\n\n    roundDownToNearestVertVel(num: number) {\n        return Math.floor(num / VERTICAL_VELOCITY) * VERTICAL_VELOCITY;\n    }\n}\n\nexport default CalcConstant;\n","import { eventBus } from \"./eventBus\";\nimport { VERTICAL_VELOCITY, MAP_POINT_OBJECTS } from \"./constants\";\nimport InitialValues from \"./initialValues\";\nimport { IMapPointObject } from \"./types\";\n\nclass CalcPosition {\n    private static instance: CalcPosition;\n    private initialValues: InitialValues;\n    private compLat: number;\n    private compVert: number;\n    private oceanLat: number;\n    private oceanVert: number;\n    private oceanLatLimit: number;\n    private oceanVertLimit: number;\n    private subLat: number;\n    private subVert: number;\n    private OorS: string[];\n\n    private constructor(\n        oceanLat?: number,\n        oceanVert?: number,\n        subLat?: number,\n        subVert?: number\n    ) {\n        this.initialValues = InitialValues.getInstance();\n        this.compLat = 0;\n        this.compVert = 0;\n        this.oceanLat = oceanLat || 0;\n        this.oceanVert = oceanVert || 0;\n        this.OorS = [\"O\", \"O\"];\n        this.oceanLatLimit = this.initialValues.getOceanLatLimit();\n        this.oceanVertLimit = this.initialValues.getOceanVertLimit();\n        this.subLat = subLat || this.initialValues.getInitial_X();\n        this.subVert = subVert || this.initialValues.getInitial_Y();\n        eventBus.on(\"oceanXChanged\", this.handleOceanXChange);\n        eventBus.on(\"subXChanged\", this.handleSubXChange);\n        eventBus.on(\"oceanYChanged\", this.handleOceanYChange);\n        eventBus.on(\"subYChanged\", this.handleSubYChange);\n    }\n\n    public static getInstance(\n        oceanLat?: number,\n        oceanVert?: number,\n        subLat?: number,\n        subVert?: number\n    ): CalcPosition {\n        if (!CalcPosition.instance) {\n            CalcPosition.instance = new CalcPosition(\n                oceanLat,\n                oceanVert,\n                subLat,\n                subVert\n            );\n        }\n        return CalcPosition.instance;\n    }\n\n    handleOceanXChange = (newX: number) => {\n        this.oceanLat = newX;\n        this.compLat =\n            this.oceanLat - this.subLat + this.initialValues.getInitial_X();\n    };\n\n    handleSubXChange = (newX: number) => {\n        this.subLat = newX;\n        this.compLat =\n            this.oceanLatLimit -\n            this.subLat +\n            this.initialValues.getInitial_X();\n    };\n    handleOceanYChange = (newY: number) => {\n        this.oceanVert = newY;\n        this.compVert =\n            this.oceanVert - this.subVert + this.initialValues.getInitial_Y();\n    };\n\n    handleSubYChange = (newY: number) => {\n        this.subVert = newY;\n        this.compVert =\n            this.oceanVert - this.subVert + this.initialValues.getInitial_Y();\n    };\n\n    getCompLat() {\n        return this.compLat;\n    }\n\n    getCompVert() {\n        return this.compVert;\n    }\n\n    getOceanLat() {\n        return this.oceanLat;\n    }\n\n    getSubLat() {\n        return this.subLat;\n    }\n\n    getOceanVert() {\n        return this.oceanVert;\n    }\n\n    getSubVert() {\n        return this.subVert;\n    }\n\n    getOorS(dir: string): string[] {\n        let lat = this.getCompLat();\n        let vert = this.getCompVert();\n        let latLimit = this.initialValues.getOceanLatLimit();\n        let vertLimit = this.initialValues.getOceanVertLimit();\n        if (dir === \"right\" || dir === \"left\") {\n            if (lat >= latLimit) {\n                this.OorS[0] = \"O\";\n                return this.OorS;\n            } else if (lat < latLimit) {\n                this.OorS[0] = \"S\";\n                return this.OorS;\n            }\n        } else if (dir === \"up\" || dir === \"down\")\n            if (vert >= vertLimit) {\n                this.OorS[1] = \"O\";\n                return this.OorS;\n            } else if (vert < vertLimit) {\n                this.OorS[1] = \"S\";\n                return this.OorS;\n            }\n    }\n    getMapPointObject(): IMapPointObject {\n        let lastObject: IMapPointObject;\n        let currentObject: IMapPointObject;\n        let lat = this.getCompLat();\n        try {\n            for (let i = 1; i < MAP_POINT_OBJECTS.length - 1; i++) {\n                lastObject = MAP_POINT_OBJECTS[i - 1];\n                let lastMapPoints: number[] = this.calcPoint(\n                    MAP_POINT_OBJECTS[i - 1].coeff\n                );\n                let currentPoints: number[] = this.calcPoint(\n                    MAP_POINT_OBJECTS[i].coeff\n                );\n\n                if (lastMapPoints[0] >= lat && currentPoints[0] < lat) {\n                    currentObject = MAP_POINT_OBJECTS[i];\n                }\n            }\n            return currentObject;\n        } catch (error) {\n            console.error(\"getMapPointObject did not work for lat = \", lat);\n        }\n    }\n    calcDepthLimit() {\n        const index = this.getMapPointObject().id;\n        const lastMapPointObject: IMapPointObject =\n            MAP_POINT_OBJECTS[index - 1];\n        const nextMapPointObject: IMapPointObject = MAP_POINT_OBJECTS[index];\n        let startX =\n            lastMapPointObject.coeff[0] * this.initialValues.getWidth();\n        let endX = nextMapPointObject.coeff[0] * this.initialValues.getWidth();\n        let startY =\n            lastMapPointObject.coeff[1] * this.initialValues.getHeight();\n        let endY = nextMapPointObject.coeff[1] * this.initialValues.getHeight();\n        let x = this.getCompLat();\n        if (startX === endX) {\n            // handles vertical line\n            endX = endX + 1;\n        }\n        // variable depth for a given x is the y intercept of the points held \n        // in the MAP_POINT_OBJECTS. The MAP_POINTS were taken on an example\n        // screen and mapped out manually getting the x and y of the surface\n        // features of the map.  A x and y coeff was determined by x/width and\n        // y/height.  The width and height being determined in index.ts and\n        // approximately 2 times viewport w and h.  These coeffs then can be\n        // utilized to estimate the points when the w and h changes during\n        // resizing. \n        const slope = (endY - startY) / (endX - startX);\n        const yIntercept = startY - slope * startX;\n        const y = slope * x + yIntercept;\n        let ans = Math.floor(y / VERTICAL_VELOCITY) * VERTICAL_VELOCITY; // round down to the nearest velocity\n        return ans;\n    }\n    calcPoint(coeff: number[]) {\n        let result = [];\n        result[0] = Math.floor(coeff[0] * this.initialValues.getWidth());\n        result[1] = Math.floor(coeff[1] * this.initialValues.getHeight());\n        return result;\n    }\n}\n\nexport default CalcPosition;\n","\n\nexport const drawCanvas2 = (canvas2, ctx2, backgroundImage, isInstructions1Visible) => {\n    let instructions1 = new Image();\n    instructions1.src = \"src/assets/dtt8.png\";\n    let instructions2 = new Image();\n    instructions2.src = \"src/assets/dtt9.png\";\n\n     // resize responsive for both\n     let docWidth = canvas2.width * 0.15;\n     let docX = (canvas2.width - docWidth) / 6;\n\n     // Banner specific\n     let bannerHeight = canvas2.height * 0.065;\n     let bannerY = bannerHeight * 0.8; \n\n      // Instruction specific\n      let instructionsHeight = canvas2.width * 0.18; \n      let instructionsY = (bannerHeight + bannerY);\n\n\n    const draw = () => {\n        ctx2.clearRect(0, 0, canvas2.width, canvas2.height); \n        ctx2.drawImage(backgroundImage, 0, 0, canvas2.width, canvas2.height);\n\n        ctx2.fillStyle = \"#fff\";\n        ctx2.fillRect(docX, bannerY, docWidth, bannerHeight);\n        ctx2.fillStyle = \"#4CAF50\";\n        ctx2.font = \"bold 50px Arial\";\n        ctx2.fillText(\"DIVE THE TRIESTE!\", docX + docWidth * 0.1, bannerY + bannerHeight * 0.7, docWidth * 0.8); // last param is max length of string\n\n        if (isInstructions1Visible) {  // the minus 1 below is so there is no line between banner and document\n            ctx2.drawImage(instructions1, docX, instructionsY - 1, docWidth, instructionsHeight);\n        } else {\n            ctx2.drawImage(instructions2, docX, instructionsY - 1, docWidth, instructionsHeight);\n        }\n    };\n    // use a counter to make sure all the images in the document are loaded\n    let imagesLoaded = 0;\n    instructions1.onload = () => {\n        imagesLoaded++;\n        if(imagesLoaded == 2) {\n            draw();\n        }\n    };\n    instructions2.onload = () => {\n        imagesLoaded++;\n        if(imagesLoaded == 2) {\n            draw();\n        }\n    };\n\n    // Call the draw function on window resize\n    window.addEventListener(\"resize\", draw);\n\n    canvas2.onclick = function (e) {\n        let rect = canvas2.getBoundingClientRect();\n        let x = e.clientX - rect.left;\n        let y = e.clientY - rect.top;\n\n        if (x > docX && x < docX + docWidth && y > bannerY && y < bannerY + instructionsHeight) {\n            isInstructions1Visible = !isInstructions1Visible; // Toggle the flag\n            draw(); // Redraw the canvas with the updated isInstructions1Visible flag\n        }\n    };\n};","import Images from \"./images\";\nimport InitialValues from \"./initialValues\";\nimport Ocean from \"./ocean\";\nimport Sub from \"./sub\";\n\nclass Cockpit {\n    private ctx: CanvasRenderingContext2D;\n    private canvas: HTMLCanvasElement;\n    private InitialValues: InitialValues;\n    private x: number;\n    private y: number;\n    private width: number;\n    private height: number;\n    private cockpitImage: HTMLImageElement;\n    private cockpitImageUrl: string;\n    private underImageUrl: string;\n\n    constructor(ctx: CanvasRenderingContext2D) {\n        this.ctx = ctx;\n        this.canvas = this.ctx.canvas;\n        this.InitialValues = InitialValues.getInstance();\n        this.x = 0;\n        this.y = 0;\n        this.width = this.InitialValues.getWidth();\n        this.height = this.InitialValues.getHeight();\n        this.cockpitImage = document.getElementById(\n            \"cockpit\"\n        ) as HTMLImageElement;\n        this.cockpitImageUrl = \"src/assets/cockpit.png\";\n        this.underImageUrl = \"assets/life/ep/001_shark.jpg\";\n    }\n\n    draw() {\n        // make first image\n        let underImage = new Image();\n        let images = new Images();\n        underImage.src = images.getImage();\n        this.width = this.InitialValues.getWidth();\n        this.height = this.InitialValues.getHeight();\n\n        underImage.onload = () => {\n            this.ctx.drawImage(\n                underImage,\n                this.width * 0.07,\n                0,\n                this.width * 0.35,\n                this.height * 0.3952\n            );\n            // on load of first image, make the second image\n            let cockpitImage = new Image();\n            cockpitImage.src = this.cockpitImageUrl;\n            cockpitImage.onload = () => {\n                // draw cockpit image\n                this.ctx.drawImage(\n                    cockpitImage,\n                    this.x,\n                    this.y,\n                    this.width * 0.5,\n                    this.height * 0.4879\n                );\n                cockpitImage.style.zIndex = \"55\";\n            };\n        };\n    }\n\n    // future implementation\n    debounceDraw(delay: number) {\n        let debounceTimer;\n        return () => {\n            clearTimeout(debounceTimer);\n            debounceTimer = setTimeout(() => this.draw(), delay);\n        };\n    }\n}\n\nexport default Cockpit;\n","// canvas1 is the ocean\n// canvas2 is the opening page\n// canvas3 is the cockpit\n\n\nimport { ITextObject, IMapPointObject, IMP} from './types';\n\nexport const stopMessageAnimation = {\n    messFlag: true\n  };\n  \n  let _CURRENT_CANVAS = 2;\n  export const getCurrentCanvas = () => _CURRENT_CANVAS; \n  export const setCurrentCanvas = (value:number) => {\n    if (value === 1 || value === 2 || value === 3) {\n      _CURRENT_CANVAS = value;\n    } else {\n      console.error('Invalid canvas value. Please provide a value of 1, 2, or 3.');\n    }\n  };\n\n  let _HIT_BOTTOM_FLAG:Boolean = false;\n  export const getHitBottomFlag = ():Boolean => _HIT_BOTTOM_FLAG;\n  export const setHitBottomFlag = (value:Boolean):void => {\n      _HIT_BOTTOM_FLAG = value;\n  }\n\n\n// values\nexport const SEA_DEPTH = 36161; // feet\nexport const DIST_CA_TO_TRENCH = 6000; //miles\n\n// velocities\nexport const LAT_VELOCITY = 20;\nexport const VERTICAL_VELOCITY = 20;\n\n\n// for messaging and photos\nexport const EUPHOTIC_PELAGIC: number = 0;\nexport const EUPHOTIC_BENTHIC: number = 1;\nexport const DYSPHOTIC_PELAGIC: number = 2;\nexport const DYSPHOTIC_BENTHIC: number = 3;\nexport const APHOTIC_PELAGIC: number = 4;\nexport const APHOTIC_BENTHIC: number = 5;\n\nconst OOB_LEFT = 'OOB_LEFT';\nconst INITIAL_POSITION = 'INITIAL_POSITION';\nconst SLOPE_LIMIT = 'SLOPE_LIMIT';\nconst START_BUMP = 'START_BUMP';\nconst BUMP_PEAK = 'BUMP_PEAK';\nconst END_BUMP = 'END_BUMP';\nconst START_DBL = 'START_DBL';\nconst DBL_PEAK_1 = 'DBL_PEAK_1';\nconst DBL_PEAK_2 = 'DBL_PEAK_2';\nconst END_DBL = 'END_DBL';\nconst START_TRENCH = 'START_TRENCH';\nconst TRENCH_BOTTOM_L = 'TRENCH_BOTTOM_L';\nconst TRENCH_BOTTOM_R = 'TRENCH_BOTTOM_R';\nconst END_TRENCH = 'END_TRENCH'\nconst END_POSITION = 'END_POSITION';\nconst OOB_RIGHT = 'OOB_RIGHT';\nconst OOB_RIGHT_2 = 'OOB_RIGHT_2';\n\n\n// these update the constants in calConstant\nconst MP_0 :IMP = [ 0, -60, OOB_LEFT ];\nconst MP_1 :IMP = [ 0, -60, INITIAL_POSITION];      // lateral based on width 3840    \nconst MP_2 :IMP = [ -180, -461, SLOPE_LIMIT ];    // vertical based on height of 1986\nconst MP_3 :IMP = [ -460, -520, START_BUMP ];    \nconst MP_4 :IMP = [ -860, -420, BUMP_PEAK ];    \nconst MP_5 :IMP = [ -980, -520, END_BUMP ];    \nconst MP_6 :IMP = [ -1060, -520, START_DBL ];  \nconst MP_7 :IMP = [ -1180, -220, DBL_PEAK_1 ];\nconst MP_8 :IMP = [ -1320, -240, DBL_PEAK_2 ];\nconst MP_9 :IMP = [ -1400, -481, END_DBL ];\nconst MP_10 :IMP = [ -1580, -520, START_TRENCH ];\nconst MP_11 :IMP = [ -1650, -1760, TRENCH_BOTTOM_L ];\nconst MP_12 :IMP = [ -1840, -1760, TRENCH_BOTTOM_R];\nconst MP_13 :IMP = [ -2040, -520, END_TRENCH];\nconst MP_14 :IMP = [ -2488, -520, END_POSITION];\nconst MP_15 :IMP = [ -3840, -520, OOB_RIGHT];\nconst MP_16 :IMP = [ -3840, -520, OOB_RIGHT_2];\n\nexport const MAP_POINTS: IMP[] = [\n  MP_0, MP_1, MP_2, MP_3,\n  MP_4, MP_5, MP_6, MP_7,\n  MP_8, MP_9, MP_10, MP_11,\n  MP_12, MP_13, MP_14, MP_15, MP_16\n]\n\n// lateral based on width 3840    \n// vertical based on height of 1986\n// this array not being used\nconst MULT_MP_0 :number[] = [  0,  -0.0101 ];\nconst MULT_MP_1 :number[] = [  0,  -0.0101  ];\nconst MULT_MP_2 :number[] = [ -0.0468, -0.2164 ];// lateral based on width 3840    \nconst MULT_MP_3 :number[] = [ -0.1823, -0.2618 ];// vertical based on height of 1986\nconst MULT_MP_4 :number[] = [ -0.2239, -0.2115 ];\nconst MULT_MP_5 :number[] = [ -0.2552, -0.2618 ];\nconst MULT_MP_6 :number[] = [ -0.2781, -0.2618 ];\nconst MULT_MP_7 :number[] = [ -0.3021, -0.1108 ];\nconst MULT_MP_8 :number[] = [ -0.3437, -0.1208 ];\nconst MULT_MP_9 :number[] = [ -0.3646, -0.2422 ];\nconst MULT_MP_10 :number[] = [ -0.4115, -0.2618 ];\nconst MULT_MP_11 :number[] = [ -0.4297, -0.8862 ];\nconst MULT_MP_12 :number[] = [ -0.4791, -0.8862 ];\nconst MULT_MP_13 :number[] = [ -0.5312, -0.2618 ];\nconst MULT_MP_14 :number[] = [ -0.5729, -0.2618 ];\nconst MULT_MP_15 :number[] = [ -1, -0.2618 ];\nconst MULT_MP_16 :number[] = [ -1, -0.2618 ];\n\nexport const MAP_POINT_COEFFS: number[][] =[\n  MULT_MP_0, MULT_MP_1, MULT_MP_2, MULT_MP_3,\n  MULT_MP_4, MULT_MP_5, MULT_MP_6, MULT_MP_7,\n  MULT_MP_8, MULT_MP_9, MULT_MP_10, MULT_MP_11,\n  MULT_MP_12, MULT_MP_13, MULT_MP_14, MULT_MP_15, MULT_MP_16\n]\n// the above data structures are currently not used. There is the possibility of implementing\n// them in the future to make the app able to resize dynamically\n// the mvmt are to control movement when hit bottom\n// the coeff are taken from MP_ constants. These are possibly to be used to dyamically\n// make the coeffs in the future. For now these are manually calculated\n\nexport const MAP_POINT_OBJECTS: IMapPointObject[] = [  \n  {'id':0,  'name':'OOB_LEFT',         'point': MP_0,   mvmtLat: 'right', 'coeff': [ 1, -0.0101 ],       \"display\": \"Starting\" },\n  {'id':1,  'name':'INITIAL_POSITION', 'point': MP_1,   mvmtLat: 'right', 'coeff': [ 0, -0.0101 ],       \"display\": \"Starting\" },\n  {'id':2,  'name':'SLOPE_LIMIT',      'point': MP_2,   mvmtLat: 'right', 'coeff': [ -0.0468, -0.2164 ], \"display\": \"Continental Slope\" },\n  {'id':3,  'name':'START_BUMP',       'point': MP_3,   mvmtLat: 'left',  'coeff': [ -0.1823, -0.2618 ], \"display\": \"Abyssal Plain\" }, \n  {'id':4,  'name':'BUMP_PEAK',        'point': MP_4,   mvmtLat: 'left',  'coeff': [ -0.2239, -0.2115 ], \"display\": \"Abyssal Hill\" },\n  {'id':5,  'name':'END_BUMP',         'point': MP_5,   mvmtLat: 'right', 'coeff': [ -0.2552, -0.2618 ], \"display\": \"Abyssal Plain\" },\n  {'id':6,  'name':'START_DBL',        'point': MP_6,   mvmtLat: 'left',  'coeff': [ -0.2781, -0.2618 ], \"display\": \"Seamount\" },\n  {'id':7,  'name':'DBL_PEAK_1',       'point': MP_7,   mvmtLat: 'left',  'coeff': [ -0.3021, -0.1108 ], \"display\": \"Seamount\" },\n  {'id':8,  'name':'DBL_PEAK_2',       'point': MP_8,   mvmtLat: 'both',  'coeff': [ -0.3437, -0.1208 ], \"display\": \"Seamount\" },\n  {'id':9,  'name':'END_DBL',          'point': MP_9,   mvmtLat: 'right', 'coeff': [ -0.3646, -0.2422 ], \"display\": \"Seamount\" },\n  {'id':10, 'name':'START_TRENCH',     'point': MP_10,  mvmtLat: 'both',  'coeff': [ -0.4115, -0.2618 ], \"display\": \"Abyssal Plain\" },\n  {'id':11, 'name':'TRENCH_BOTTOM_L',  'point': MP_11,  mvmtLat: 'right', 'coeff': [ -0.4635, -0.8862 ], \"display\": \"Marina Trench\" },\n  {'id':12, 'name':'TRENCH_BOTTOM_R',  'point': MP_12,  mvmtLat: 'both',  'coeff': [ -0.4791, -0.8862 ], \"display\": \"Marina Trench\" },\n  {'id':13, 'name':'END_TRENCH',       'point': MP_13,  mvmtLat: 'left',  'coeff': [ -0.5312, -0.2618 ], \"display\": \"Marina Trench\" },\n  {'id':14, 'name':'END_POSITION',     'point': MP_14,  mvmtLat: 'both',  'coeff': [ -0.5729, -0.2618 ], \"display\": \"Volcanic Island\" },\n  {'id':15, 'name':'OOB_RIGHT',        'point': MP_15,  mvmtLat: 'left',  'coeff': [ -1, -0.2618 ],      \"display\": \"There be Dragons\" },\n  {'id':16, 'name':'OOB_RIGHT_2',      'point': MP_16,  mvmtLat: 'left',  'coeff': [ -1, -0.2618 ],      \"display\": \"There be Dragons\" },\n]\n\n  \n\nexport const textObjects: ITextObject[] = [\n{id: EUPHOTIC_PELAGIC, title: \"EUPHOTIC PELAGIC\", text: \"The uppermost layer of the open ocean sunlight can penetrate allowing photosynthesis to occur. Flora consists of phytoplankton, microscopic plant-like organisms that harness sunlight. These microscopic plants serve as the foundation of the marine food web, providing nourishment for a wide range of organisms. They contribute significantly to global oxygen production and carbon dioxide absorption, playing a vital role in regulating the Earth's climate. Fauna includes zooplankton, small fish, squid, and jellyfish. Many species undertake vertical migrations, moving closer to the surface during the night to feed on phytoplankton and descending to deeper depths during the day to avoid predators. Larger marine animals, such as whales and dolphins, often rely on the abundant food resources found in the euphotic pelagic zone.Commercial fisheries, providing a substantial portion of the world's seafood supply. It claims a major role in carbon sequestration balancing global ecosystem. \"}\n,{id: EUPHOTIC_BENTHIC, title: \"EUPHOTIC BENTHIC\", text: \"The euphotic benthic zone is a crucial region in the ocean where sunlight reaches, allowing for photosynthesis. It extends from the ocean surface to around 200 meters deep, supporting diverse flora and fauna. Marine algae, seagrasses, and phytoplankton thrive in this zone, providing oxygen and serving as the foundation of the food web. Zooplankton, corals, and other invertebrates inhabit the benthic habitats, offering food and shelter to various species. Geographically, the euphotic benthic zone is prevalent in coastal areas, influencing adjacent ecosystems like coral reefs and seagrass meadows. It plays a vital role in carbon cycling, nutrient dynamics, and maintaining marine biodiversity. Preserving this zone is crucial for sustaining ocean health and the intricate balance of marine ecosystems.\"}\n,{id: DYSPHOTIC_PELAGIC, title: \"DYPHOTIC PELAGIC\", text: \"Here the flora is primarily phytoplankton and zooplankton and some diatoms. The fauna is fish include the lanternfish, hatchetfish, and dragonfishs. These fish have evolved large eyes and bioluminescent organs, to navigate and communicate in the dimly lit environment. Cephalopods, shrimp, and jellyfish, are also found in this zone, all adapted to low light. It serves as a crucial feeding ground for migratory species, including whales and large predatory fish, as they follow the vertical migration of zooplankton from the depths to the surface. Dead matter drifts down from the euphotic zone sustains sustaining a complex food web. Understanding the dysphotic pelagic zone is essential for comprehending the dynamics of the global carbon cycle. The zone plays a crucial role in the sequestration of carbon dioxide through the biological pump, where carbon is transported from the surface to the deep ocean through sinking particles. This process helps regulate atmospheric carbon levels and mitigates climate change.\"}\n,{id: DYSPHOTIC_BENTHIC, title: \"DYSPHOTIC BENTHIC\", text: \"Here sunlight barely penetrates and darkness prevails. The flora is algae, fungi, and bacteria that have adapted to obtain energy through CHEMOSYNTHESIS or by consuming organic matter settling from above.The fauna includes deep-sea fish, sea cucumbers, sea stars, sea anemones, corals, sponges, and crustaceans. Here is a refuge for numerous species that seek shelter from predators in shallower zones. It is important for nutrient recycling and maintaining the balance of carbon. Remotely operated vehicles (ROVs) and autonomous underwater vehicles (AUVs), are employed to investigate this zone.\"}\n,{id: APHOTIC_PELAGIC, title: \"APHOTIC PELAGIC\", text: \"In the absence of sunlight, this zone has low temperatures, high pressure, and limited nutrient availability. Despite these challenges, the zone is not devoid of life. Unique and highly adapted organisms inhabit this realm, relying on alternative energy sources and survival strategies. In this zone, the primary producers are CHEMOSYNTHETIC bacteria that derive energy from inorganic compounds, such as hydrogen sulfide or methane. These bacteria serve as the foundation of the food chain, supporting a variety of organisms that are adapted to survive in extreme conditions. Deep-sea fish, cephalopods, and other invertebrates, some with bioluminescent abilities, are found here.The aphotic pelagic zone plays a significant role in the cycling of organic matteand the global carbon cycle. Organic particles, called marine snow, sink from the surface waters providing sustenance. The marine snow transports carbon from the surface to the deep ocean, sequestering it for long periods and influencing the planet's carbon balance.\"}\n,{id: APHOTIC_BENTHIC, title: \"APHOTIC BENTHIC\", text:\"There is no light. It is usually just above freezing and over 1000 times the pressure of the atmosphere. Most of this zone is nutrient poor however there is also the remarkable  presence of deep-sea vents. These hydrothermal vents are geological formations that spew forth mineral-rich, superheated water into the surrounding environment. They create a haven for unique ecosystems, sustained, again, not by sunlight but by chemosynthesis. Bacteria and other organisms near these vents convert chemicals, such as hydrogen sulfide, into energy, forming the basis of a food chain that supports a variety of organisms, including tube worms, clams, and unique species found nowhere else on Earth.\"}\n]\n\n\n","import { textObjects } from \"./constants\";\nimport CalcConstant from \"./calcConstant\";\nimport Zone from \"./zone\";\nimport { ITextObject } from \"./types\";\n\nclass EdText {\n    private cssOne = [\n        \"upperPelagic\",\n        \"upper\",\n        \"middle\",\n        \"middle\",\n        \"lower\",\n        \"lower\",\n    ];\n    private edContainer: HTMLElement;\n    private edTitle: HTMLElement;\n    private edText: HTMLElement;\n    private textEls: HTMLElement[];\n    private instPanel: HTMLElement;\n    private textElStrings: string[];\n    private textElSuffixes: string[];\n    private textElTypes: string[];\n    private zoneFlag: string;\n    private textObjects: ITextObject[];\n    private calcConstants: CalcConstant;\n    private zone: Zone;\n\n    constructor() {\n        this.edContainer = document.getElementById(\"edContainer\") || null;\n        this.edTitle = document.getElementById(\"edTitle\") || null;\n        this.edText = document.getElementById(\"edText\") || null;\n        this.textEls = [this.edContainer, this.edTitle, this.edText];\n        this.textElStrings = [\"edContainer\", \"edTitle\", \"edText\"];\n        this.textElSuffixes = [\"EdContainer\", \"EdTitle\", \"EdText\"];\n        this.textElTypes = [\"id\", \"title\", \"text\"];\n        this.textObjects = textObjects;\n        this.instPanel = document.getElementById(\"instPanelContainer\");\n        this.calcConstants = new CalcConstant();\n        this.zone = new Zone();\n    }\n\n    updateEdText(canvasNum: number) {\n        this.setEdStyle(canvasNum);\n        this.setEdText();\n    }\n\n    private setEdStyle(canvasNum: number) {\n        let num: number = this.zone.getZoneObjectNumber();\n        this.clearAllEdElementsClassList();\n        if (this.textEls.length < 1) return;\n        if (canvasNum === 1) {\n            this.textEls.forEach((textEl, idx) => {\n                let className = this.textElStrings[idx];\n                let className2 =\n                    this.cssOne[num] + \"Style\" + this.textElSuffixes[idx];\n                if (textEl) textEl.classList.add(className);\n                if (textEl) textEl.classList.add(className2);\n            });\n            this.instPanel.classList.add(\"hide\");\n        } else if (canvasNum === 2) {\n            this.instPanel.classList.add(\"hide\");\n            this.edContainer.classList.add(\"hide\");\n        } else if (canvasNum === 3) {\n            this.clearEdContainer();\n            this.edContainer.classList.add(\"cockpitStyleEdContainer\");\n            this.edTitle.classList.add(\"edTitle\");\n            this.edTitle.classList.add(\"cockpitStyleEdTitle\");\n            this.edText.classList.add(\"edText\");\n            this.edText.classList.add(\"cockpitStyleEdText\");\n            this.instPanel.classList.remove(\"hide\");\n        }\n    }\n\n    initialEdSetup() {\n        this.updateEdText(1);\n    }\n\n    private setEdText() {\n        let textObject = this.zone.upDateZoneObject();\n        if (this.edTitle) this.edTitle.textContent = textObject.title;\n        if (this.edText) this.edText.textContent = textObject.text;\n    }\n\n    clearEdContainer() {\n        this.edContainer.classList.forEach((className) => {\n            this.edContainer.classList.remove(className);\n        });\n    }\n\n    clearOneEdElementClassList(element: HTMLElement) {\n        if (!element) return;\n        while (element.classList.length > 0) {\n            element.classList.remove(element.classList.item(0));\n        }\n    }\n\n    clearAllEdElementsClassList() {\n        this.textEls.forEach((textEl) => {\n            this.clearOneEdElementClassList(textEl);\n        });\n    }\n}\n\nexport default EdText;\n","class EventBus {\n    private listeners: { [event: string]: ((data: any) => void)[] } = {};\n\n    public on(event: string, callback: (data: any) => void): void {\n        if (!this.listeners[event]) {\n            this.listeners[event] = [];\n        }\n        this.listeners[event].push(callback);\n    }\n\n    public emit(event: string, data: any): void {\n        const eventListeners = this.listeners[event];\n        if (eventListeners) {\n            eventListeners.forEach((listener) => listener(data));\n        }\n    }\n}\n\n// Create a singleton instance of the EventBus\nexport const eventBus = new EventBus();\n","import Zone from \"./zone\";\n\nclass Images {\n    private images: string[][];\n\n    constructor() {\n        // Assign a number to the arrays\n        this.images = [this.ep, this.eb, this.dp, this.db, this.ap, this.ab];\n    }\n\n    public getImage(): string {\n        const zone: Zone = new Zone();\n        const arrNum: number = zone.upDateZoneObject().id;\n\n        const arr = this.images[arrNum];\n        const x = Math.floor(Math.random() * arr.length);\n        return arr[x];\n    }\n\n    private ep: string[] = [\n        \"./src/assets/life/ep/001.jpg\",\n        \"./src/assets/life/ep/002.jpeg\",\n        \"./src/assets/life/ep/003.jpeg\",\n        \"./src/assets/life/ep/004.jpeg\",\n        \"./src/assets/life/ep/005.webp\",\n        \"./src/assets/life/ep/006.jpeg\",\n        \"./src/assets/life/ep/007.jpeg\",\n        \"./src/assets/life/ep/008.jpeg\",\n        \"./src/assets/life/ep/009.jpeg\",\n        \"./src/assets/life/ep/010.jpeg\",\n        \"./src/assets/life/ep/011.jpg\",\n        \"./src/assets/life/ep/012.webp\",\n        \"./src/assets/life/ep/013.jpeg\",\n        \"./src/assets/life/ep/014.jpeg\",\n    ];\n\n    private eb: string[] = [\n        \"./src/assets/life/eb/001.jpeg\",\n        \"./src/assets/life/eb/002.webp\",\n        \"./src/assets/life/eb/003.jpeg\",\n        \"./src/assets/life/eb/004.jpg\",\n        \"./src/assets/life/eb/005.jpeg\",\n        \"./src/assets/life/eb/006.jpeg\",\n        \"./src/assets/life/eb/007.jpg\",\n        \"./src/assets/life/eb/008.jpeg\",\n        \"./src/assets/life/eb/009.jpeg\",\n        \"./src/assets/life/eb/010.jpeg\",\n        \"./src/assets/life/eb/011.jpeg\",\n        \"./src/assets/life/eb/012.jpg\",\n        \"./src/assets/life/eb/013.webp\",\n        \"./src/assets/life/eb/014.jpg\",\n        \"./src/assets/life/eb/015.jpg\",\n        \"./src/assets/life/eb/016.jpg\",\n        \"./src/assets/life/eb/017.jpg\",\n    ];\n\n    private dp: string[] = [\n        \"./src/assets/life/dp/001.jpeg\",\n        \"./src/assets/life/dp/002.jpeg\",\n        \"./src/assets/life/dp/003.jpg\",\n        \"./src/assets/life/dp/004.jpeg\",\n        \"./src/assets/life/dp/005.jpeg\",\n        \"./src/assets/life/dp/006.jpeg\",\n        \"./src/assets/life/dp/007.jpeg\",\n        \"./src/assets/life/dp/008.jpeg\",\n        \"./src/assets/life/dp/009.png\",\n        \"./src/assets/life/dp/010.webp\",\n        \"./src/assets/life/dp/011.jpeg\",\n        \"./src/assets/life/dp/012.jpeg\",\n        \"./src/assets/life/dp/013.webp\",\n        \"./src/assets/life/dp/014.jpeg\",\n    ];\n\n    private db: string[] = [\n        \"./src/assets/life/db/001.png\",\n        \"./src/assets/life/db/002.jpeg\",\n        \"./src/assets/life/db/003.jpeg\",\n        \"./src/assets/life/db/004.jpeg\",\n        \"./src/assets/life/db/005.webp\",\n        \"./src/assets/life/db/006.webp\",\n        \"./src/assets/life/db/007.webp\",\n        \"./src/assets/life/db/008.webp\",\n        \"./src/assets/life/db/009.webp\",\n        \"./src/assets/life/db/010.jpeg\",\n        \"./src/assets/life/db/011.jpeg\",\n        \"./src/assets/life/db/012.webp\",\n        \"./src/assets/life/db/013.jpeg\",\n        \"./src/assets/life/db/014.jpeg\",\n    ];\n    private ap: string[] = [\n        \"./src/assets/life/ap/001.jpeg\",\n        \"./src/assets/life/ap/002.jpeg\",\n        \"./src/assets/life/ap/003.jpg\",\n        \"./src/assets/life/ap/004.jpeg\",\n        \"./src/assets/life/ap/005.webp\",\n        \"./src/assets/life/ap/006.jpeg\",\n        \"./src/assets/life/ap/007.jpeg\",\n        \"./src/assets/life/ap/008.jpeg\",\n        \"./src/assets/life/ap/009.jpeg\",\n        \"./src/assets/life/ap/010.jpeg\",\n        \"./src/assets/life/ap/011.webp\",\n        \"./src/assets/life/ap/012.jpeg\",\n        \"./src/assets/life/ap/013.jpeg\",\n        \"./src/assets/life/ap/014.jpeg\",\n        \"./src/assets/life/ap/015.jpeg\",\n        \"./src/assets/life/ap/016.jpeg\",\n    ];\n    private ab: string[] = [\n        \"./src/assets/life/ab/001.jpeg\",\n        \"./src/assets/life/ab/002.jpeg\",\n        \"./src/assets/life/ab/003.png\",\n        \"./src/assets/life/ab/004.jpeg\",\n        \"./src/assets/life/ab/005.jpeg\",\n        \"./src/assets/life/ab/006.jpeg\",\n        \"./src/assets/life/ab/007.jpeg\",\n        \"./src/assets/life/ab/008.jpeg\",\n        \"./src/assets/life/ab/009.webp\",\n        \"./src/assets/life/ab/010.jpeg\",\n        \"./src/assets/life/ab/011.jpeg\",\n        \"./src/assets/life/ab/012.jpeg\",\n        \"./src/assets/life/ab/013.jpeg\",\n        \"./src/assets/life/ab/014.jpeg\",\n    ];\n}\n\nexport default Images;\n","import { LAT_VELOCITY, VERTICAL_VELOCITY } from \"./constants\";\n\nclass InitialValues {\n    private static instance: InitialValues;\n    public width: number; \n    public height: number;\n\n    private constructor() {\n        this.width = visualViewport.width * 2;;\n        this.height = this.width /(visualViewport.width / visualViewport.height)\n        window.addEventListener(\"resize\", this.updateWindowSize.bind(this));\n    }\n\n    public static getInstance(): InitialValues {\n        if (!InitialValues.instance) {\n            InitialValues.instance = new InitialValues();\n        }\n        return InitialValues.instance;\n    }\n    private updateWindowSize(): void {\n        this.width = visualViewport.width * 2;;\n        this.height = this.width /(visualViewport.width / visualViewport.height)\n    }\n\n    getWidth() {\n        return this.width;\n    }\n    getHeight() {\n        return this.height;\n    }\n\n    getInitial_X() {\n        return this.roundDownToNearestVertVel(this.width * 0.2604);\n    }\n    getInitial_Y() {\n        return this.roundDownToNearestVertVel(this.height * 0.06);\n    }\n\n    getFullLatLimit() {\n        return this.roundDownToNearestLatVel(this.width * -0.6375);\n    }\n    getFullVertLimit() {\n        return this.roundDownToNearestVertVel(this.height * -0.95);\n    }\n\n    getOceanLatLimit() {\n        return this.roundDownToNearestLatVel(this.width * -0.45);\n    }\n\n    getOceanVertLimit() {\n        return this.roundDownToNearestVertVel(this.height * -0.55);\n    }\n\n    roundDownToNearestLatVel(num: number) {\n        return Math.floor(num / LAT_VELOCITY) * LAT_VELOCITY;\n    }\n\n    roundDownToNearestVertVel(num: number) {\n        return Math.floor(num / VERTICAL_VELOCITY) * VERTICAL_VELOCITY;\n    }\n}\n\nexport default InitialValues;\n","import Move from \"./move\";\nimport { getCurrentCanvas } from \"./constants\";\nimport { showCanvas1, showCanvas2, showCanvas3 } from \"./util\";\nimport Ocean from \"./ocean\";\nimport Sub from \"./sub\";\nimport Zone from \"./zone\";\nimport Images from \"./images\";\nimport Cockpit from \"./cockpit\";\nimport Modal from \"./modal\";\nimport {\n    showDepth,\n    showLat,\n    showGeoDisplay,\n    showDistToBottom,\n} from \"./boundary\";\n\nclass Keymaster {\n    private ocean: Ocean;\n    private sub: Sub;\n    private modal: Modal;\n    private cockpitModal: Modal;\n    private move: Move;\n\n    constructor(ctx1) {\n        this.ocean = Ocean.getInstance(ctx1);\n        this.sub = Sub.getInstance(ctx1);\n        this.modal = new Modal(\"modal\", \"close\");\n        this.cockpitModal = new Modal(\"cockpitModal\");\n        this.move = new Move(this.ocean, this.sub);\n    }\n    // set key function depending on which canvas is showing\n    keyDown(\n        e: KeyboardEvent,\n        ctx1: CanvasRenderingContext2D,\n        ctx2: CanvasRenderingContext2D,\n        ctx3: CanvasRenderingContext2D\n    ) {\n        let currentCanvas: number = getCurrentCanvas();\n\n        if (currentCanvas === 1) {\n            if (e.key === \"ArrowDown\" || e.key === \"Down\") {\n                this.newPos(\"down\");\n            } else if (e.key === \"ArrowLeft\" || e.key === \"Left\") {\n                this.newPos(\"left\");\n            } else if (e.key === \"ArrowRight\" || e.key === \"Right\") {\n                this.newPos(\"right\");\n            } else if (e.key === \"ArrowUp\" || e.key === \"Up\") {\n                this.newPos(\"up\");\n            } else if (e.key === \"Enter\") {\n                this.navigate(\"Enter\");\n            } else if (e.key === \"Escape\") {\n                this.navigate(\"Escape\");\n            }\n        } else if (currentCanvas === 2) {\n            if (e.key === \"Enter\") {\n                showCanvas1();\n            }\n        } else if (currentCanvas === 3) {\n            let cockpit = new Cockpit(ctx3);\n            if (e.key === \"ArrowDown\" || e.key === \"Down\") {\n                cockpit.draw();\n                this.newPos(\"down\");\n            } else if (e.key === \"ArrowLeft\" || e.key === \"Left\") {\n                cockpit.draw();\n                this.newPos(\"left\");\n            } else if (e.key === \"ArrowRight\" || e.key === \"Right\") {\n                cockpit.draw();\n                this.newPos(\"right\");\n            } else if (e.key === \"ArrowUp\" || e.key === \"Up\") {\n                cockpit.draw();\n                this.newPos(\"up\");\n            } else if (e.key === \"Enter\") {\n                this.navigate(\"Enter\");\n            } else if (e.key === \"Escape\") {\n                this.navigate(\"Escape\");\n            }\n        }\n    }\n\n    navigate(navigate: string): void {\n        let currentCanvas = getCurrentCanvas();\n        if (navigate === \"Enter\") {\n            if (currentCanvas === 1) {\n                if (localStorage.getItem(\"modal\") === \"false\") {\n                    this.modal.hideModal();\n                } else {\n                    showCanvas3();\n                }\n            } else if (currentCanvas === 2) {\n                showCanvas1();\n            } else if (currentCanvas === 3) {\n                showCanvas1();\n            }\n        } else if (navigate === \"Escape\") {\n            switch (currentCanvas) {\n                case 1:\n                    showCanvas2();\n                    break;\n                case 2:\n                    showCanvas1();\n                    break;\n                case 3:\n                    showCanvas2();\n                    break;\n                default:\n                    break;\n            }\n        }\n    }\n\n    newPos(dir: string): void {\n        const zone = new Zone();\n        showLat();\n        showDepth();\n        showGeoDisplay();\n        showDistToBottom();\n        zone.upDateZoneObject();\n        this.move.getMove(dir);\n        if (dir === \"left\" || dir === \"right\") this.sub.setLastLatDir(dir);\n    }\n}\n\nexport default Keymaster;\n","class Modal {\n    private modalId: string;\n    private modal: HTMLElement | null;\n    private closeButton: HTMLSpanElement | null;\n\n    constructor(modalId: string, closeButtonClass?: string) {\n        this.modalId = modalId;\n        this.modal = document.getElementById(modalId);\n        this.closeButton = document.getElementsByClassName(\n            closeButtonClass\n        )[0] as HTMLSpanElement | null;\n\n        if (this.closeButton) {\n            this.closeButton.addEventListener(\"click\", () => {\n                this.hideModal();\n            });\n        }\n\n        if (this.modal) {\n            window.addEventListener(\"click\", (event) => {\n                if (event.target === this.modal) {\n                    this.hideModal();\n                }\n            });\n        }\n        if ((this.modalId = \"modal\")) {\n            localStorage.setItem(\"modal\", \"false\");\n        }\n    }\n\n    displayModalInitially() {\n        if (!(localStorage.getItem(this.modal?.id) === \"true\")) {\n            this.showModal();\n        }\n    }\n\n    showModal() {\n        if (this.modal) {\n            this.modal.style.display = \"block\";\n        }\n    }\n\n    hideModal() {\n        if (this.modal) {\n            this.modal.style.display = \"none\";\n        }\n        localStorage.setItem(this.modal?.id || \"modalDisplayed\", \"true\");\n    }\n    public getModalElement(): HTMLElement | null {\n        return this.modal;\n    }\n}\n\nexport default Modal;\n","import {\n    LAT_VELOCITY,\n    VERTICAL_VELOCITY,\n    setHitBottomFlag,\n    getCurrentCanvas,\n    getHitBottomFlag,\n} from \"./constants\";\nimport Ocean from \"./ocean\";\nimport Sub from \"./sub\";\nimport { IMapPointObject } from \"./types\";\nimport CalcConstant from \"./calcConstant\";\nimport EdText from \"./edText\";\nimport { eventBus } from \"./eventBus\";\nimport CalcPosition from \"./calcPosition\";\nimport InitialValues from \"./initialValues\";\nimport Modal from \"./modal\";\n\nclass Move {\n    private ocean: Ocean;\n    private sub: Sub;\n    private calcPosition: CalcPosition;\n    private initialValues: InitialValues;\n    private mapPointObject: IMapPointObject;\n    private OorS: string[];\n    private lat: number;\n    private vert: number;\n    private oldVert:number;\n    private lOceanLim: number;\n    private vOceanLim: number;\n    private lFullLim: number;\n    private vFullLim: number;\n    private depthLim: number;\n    private increaseVelFlag: string;\n    private latVel: number;\n    private vertVel: number;\n    private edText: EdText;\n    private modal: Modal;\n    private surfaceModal: Modal;\n\n    constructor(ocean:Ocean, sub:Sub,  dir?: string) {\n        this.ocean = ocean;\n        this.sub = sub;\n        // this.constants = new CalcConstant() || null;\n        this.calcPosition = CalcPosition.getInstance();\n        this.initialValues = InitialValues.getInstance();\n        this.mapPointObject = this.calcPosition.getMapPointObject() || null;\n        this.OorS = this.calcPosition.getOorS(\"right\") || null;\n        this.lat = this.calcPosition.getCompLat();\n        this.vert = this.calcPosition.getCompVert();\n        this.oldVert = this.vert;\n        this.lOceanLim = this.initialValues.getOceanLatLimit();\n        this.vOceanLim = this.initialValues.getOceanVertLimit();\n        this.lFullLim = this.initialValues.getFullLatLimit();\n        this.vFullLim = this.initialValues.getFullVertLimit();\n        this.depthLim = this.calcPosition.calcDepthLimit() || null;\n        this.increaseVelFlag = \"\";\n        this.latVel = LAT_VELOCITY;\n        this.vertVel = VERTICAL_VELOCITY;\n        this.edText = new EdText();\n        this.modal = new Modal(\"cockpitModal\", \"closeCockpitModal\");\n        this.surfaceModal = new Modal('surfaceModal', 'closeSurfaceModal');\n    }\n\n    public getMove = (dir: string) => {\n        // get fresh data\n        this.depthLim = this.calcPosition.calcDepthLimit();\n        this.lat = this.calcPosition.getCompLat();\n        this.vert = this.calcPosition.getCompVert();\n        if (this.vert === 0 && this.oldVert < 0 ) {\n            this.showSurfaceModal();\n        }\n        this.oldVert = this.vert;\n        this.lOceanLim = this.initialValues.getOceanLatLimit();\n        this.vOceanLim = this.initialValues.getOceanVertLimit();\n        this.lFullLim = this.initialValues.getFullLatLimit();\n        this.vFullLim = this.initialValues.getFullVertLimit();\n        this.OorS = this.calcPosition.getOorS(dir);\n        this.checkToIncreaseVel(dir);\n        this.reInitiateCoordinates();\n\n        if (dir === \"left\" || dir === \"right\") {\n            if (this.vert <= this.depthLim) {\n                setHitBottomFlag(true);\n                this.configureHitBottomMove(dir);\n            } else {\n                setHitBottomFlag(false);\n                this.getLatMove(dir);\n            }\n        }\n\n        if (dir === \"up\" || dir === \"down\") {\n            if (this.vert <= this.depthLim) {\n                // if (this.lat <= -40) setHitBottomFlag(true);\n             setHitBottomFlag(true);\n                this.configureHitBottomMove(dir);\n            } else {\n                setHitBottomFlag(false);\n                this.getVerticalMove(dir);\n            }\n        }\n        let canvasNumber = getCurrentCanvas();\n        this.edText.updateEdText(canvasNumber);\n    };\n\n    private getLatMove(dir: string) {\n        this.reInitiateCoordinates();\n\n        if (this.OorS[0] == \"O\") {\n            if (this.lat === 0) {\n                if (dir === \"right\") {\n                    this.moveOceanRight();\n                }\n            } else if (this.lat >= this.lOceanLim) {\n                if (dir === \"right\") {\n                    this.moveOceanRight();\n                } else if (dir === \"left\") {\n                    this.moveOceanLeft();\n                }\n            }\n        } else if (this.OorS[0] === \"S\") {\n            if (this.lat > this.lFullLim) {\n                if (dir === \"right\") {\n                    this.moveSubRight();\n                } else if (dir === \"left\") {\n                    this.moveSubLeft();\n                }\n            } else if (this.lat <= this.lFullLim) {\n                if (dir === \"left\") {\n                    this.moveSubLeft();\n                }\n            }\n        }\n    }\n\n    private getVerticalMove(dir: string) {\n        this.reInitiateCoordinates();\n        let vertLim: number;\n\n        if (this.OorS[1] === \"O\") {\n            if (this.depthLim > this.vOceanLim) {\n                vertLim = this.depthLim;\n            } else {\n                vertLim = this.vOceanLim;\n            }\n            if (this.vert >= 0) {\n                if (dir === \"down\") {\n                    this.moveOceanDown();\n                }\n                return;\n            } else if (this.vert >= vertLim) {\n                if (dir === \"down\") {\n                    this.moveOceanDown();\n                } else if (dir === \"up\") {\n                    this.moveOceanUp();\n                }\n            } else if (this.vert < vertLim) {\n                if (dir === \"up\") {\n                    this.moveOceanUp();\n                }\n            }\n        } else if ((this.OorS[1] = \"S\")) {\n            if (this.vert > this.depthLim) {\n                if (dir === \"down\") {\n                    this.moveSubDown();\n                } else if (dir === \"up\") {\n                    this.moveSubUp();\n                }\n            } else if (this.vert <= this.depthLim) {\n                if (dir === \"up\") {\n                    this.moveSubUp();\n                }\n            }\n        }\n    }\n\n    private configureHitBottomMove = (dir: string) => {\n        this.reInitiateCoordinates();\n        let mvmt = this.calcPosition.getMapPointObject().mvmtLat;\n\n        if (this.OorS[1] === \"O\") {\n            if (dir === \"right\") {\n                if (mvmt === \"right\" || mvmt === \"both\") {\n                    this.moveOceanRight();\n                }\n            } else if (dir === \"left\") {\n                if (mvmt === \"left\" || mvmt === \"both\") {\n                    this.moveOceanLeft();\n                }\n            } else if (dir == \"up\" && this.vert <0) {\n                this.moveOceanUp();\n            }\n        } else if (this.OorS[1] === \"S\") {\n            if (dir === \"right\") {\n                if (mvmt === \"right\" || mvmt === \"both\") {\n                    this.moveSubRight();\n                }\n            } else if (dir === \"left\") {\n                if (mvmt === \"left\" || mvmt === \"both\") {\n                    this.moveSubLeft();\n                }\n            } else if (dir ==\"up\" && this.vert <=0) {\n                this.moveSubUp();\n            }\n        }\n\n        if (getCurrentCanvas() === 3 && getHitBottomFlag() ) {\n            this.modal.showModal();\n            // Hide the cockpit modal after 1 second (1000 ms)\n            setTimeout(() => {\n                this.modal.hideModal();\n            }, 1000);\n        }\n    };\n\n    moveOceanRight = () => {\n        this.ocean.setX(this.ocean.getX() - LAT_VELOCITY);\n        eventBus.emit(\"oceanXChanged\", this.ocean.getX());\n    };\n    moveOceanLeft = () => {\n        this.ocean.setX(this.ocean.getX() + LAT_VELOCITY);\n        eventBus.emit(\"oceanXChanged\", this.ocean.getX());\n    };\n    moveSubRight = () => {\n        this.sub.setX(this.sub.getX() + LAT_VELOCITY);\n        eventBus.emit(\"subXChanged\", this.sub.getX());\n    };\n    moveSubLeft = () => {\n        this.sub.setX(this.sub.getX() - LAT_VELOCITY);\n        eventBus.emit(\"subXChanged\", this.sub.getX());\n    };\n    moveOceanUp = () => {\n        this.ocean.setY(this.ocean.getY() + VERTICAL_VELOCITY);\n        eventBus.emit(\"oceanYChanged\", this.ocean.getY());\n    };\n\n    moveOceanDown = () => {\n        this.ocean.setY(this.ocean.getY() - VERTICAL_VELOCITY);\n        eventBus.emit(\"oceanYChanged\", this.ocean.getY());\n    };\n\n    moveSubUp = () => {\n        this.sub.setY(this.sub.getY() - VERTICAL_VELOCITY);\n        eventBus.emit(\"subYChanged\", this.sub.getY());\n    };\n\n    moveSubDown = () => {\n        this.sub.setY(this.sub.getY() + VERTICAL_VELOCITY);\n        eventBus.emit(\"subYChanged\", this.sub.getY());\n    };\n\n    reInitiateCoordinates() {\n        if (\n            (this.vert === 0 &&\n                this.sub.getY() !== this.initialValues.getInitial_Y()) ||\n            (this.vert === 0 && this.ocean.getY() !== 0)\n        ) {\n            this.ocean.setY(0);\n            this.sub.setY(this.initialValues.getInitial_Y());\n        }\n\n        if ( this.vert >= 0) {\n            this.ocean.setY(0);\n            this.sub.setY(this.initialValues.getInitial_Y());\n\n        }\n    }\n\n    showSurfaceModal() {\n        if (getCurrentCanvas() === 3 && this.vert === 0 ) {\n            this.surfaceModal.showModal();\n            // Hide the cockpit modal after 1 second (1000 ms)\n            setTimeout(() => {\n                this.surfaceModal.hideModal();\n            }, 1000);\n        }\n\n    }\n\n    checkToIncreaseVel(dir: string) {\n        if (this.increaseVelFlag === dir) {\n            if (dir === \"right\" || dir === \"left\") {\n                this.latVel = 2 * LAT_VELOCITY;\n            }\n            if (dir === \"up\" || dir === \"down\") {\n                this.vertVel = 2 * VERTICAL_VELOCITY;\n            }\n        } else {\n            this.latVel = LAT_VELOCITY;\n            this.vertVel = VERTICAL_VELOCITY;\n        }\n    }\n}\n\nexport default Move;\n","import { WIDTH, HEIGHT } from \"../index\";\nimport { LAT_VELOCITY, VERTICAL_VELOCITY } from \"./constants\";\nimport InitialValues from \"./initialValues\";\nimport { eventBus } from \"./eventBus\";\n\nclass Ocean {\n    private static instance: Ocean;\n    private ctx: CanvasRenderingContext2D;\n    private x: number;\n    private y: number;\n    private initialValues: InitialValues;\n    private width: number;\n    private height: number;\n    private oceanImage: HTMLImageElement | null;\n    private velRight: number;\n    private velLeft: number;\n    private velUp: number;\n    private velDown: number;\n\n    private constructor(\n        ctx: CanvasRenderingContext2D,\n        x?: number,\n        y?: number,  \n        oceanImage?: HTMLImageElement | null,\n        velRight?: number,\n        velLeft?: number,\n        velUp?: number,\n        velDown?: number\n    ) {\n        this.ctx = ctx;\n        this.x = x || 0;\n        this.y = y || 0;\n        this.initialValues = InitialValues.getInstance();\n        this.width = this.initialValues.getWidth();\n        this.height = this.initialValues.getHeight();\n        this.oceanImage =\n            oceanImage ||\n            (document.getElementById(\n                \"crossSection\"\n            ) as HTMLImageElement | null);\n        this.velRight = velRight || 0;\n        this.velLeft = velLeft || 0;\n        this.velUp = velUp || 0;\n        this.velDown = velDown || 0;\n        window.addEventListener(\"resize\", this.handleResize);\n    }\n    \n\n    public static getInstance(ctx?: CanvasRenderingContext2D): Ocean {\n        if (!Ocean.instance) {\n            if (!ctx) {\n                throw new Error(\n                    \"A context must be provided when creating a new instance.\"\n                );\n            }\n            Ocean.instance = new Ocean(\n                ctx,\n                0,\n                0,\n                document.getElementById(\"crossSection\") as HTMLImageElement | null,\n                0,\n                0,\n                0,\n                0\n            );\n        }\n        return Ocean.instance;\n    }\n    \n    public draw() {\n        this.width = this.initialValues.getWidth()\n        this.height = this.initialValues.getHeight();\n        this.ctx.drawImage(\n            this.oceanImage,\n            this.x,\n            this.y,\n            this.width,\n            this.height\n        );\n    }\n    private handleResize = () => {\n        this.width = this.initialValues.getWidth()\n        this.height = this.initialValues.getHeight();\n        this.draw();\n    };\n\n    public getX(): number {\n        return this.x;\n    }\n\n    public setX(x: number): void {\n        this.x = x;\n    }\n    public getY(): number {\n        return this.y;\n    }\n\n    public setY(y: number): void {\n        this.y = y;\n    }\n\n    public getVelRight(): number {\n        return this.velRight;\n    }\n\n    public setVelRight(): void {\n        this.velRight = LAT_VELOCITY;\n    }\n\n    public getVelLeft(): number {\n        return this.velLeft;\n    }\n\n    public setVelLeft(): void {\n        this.velLeft = LAT_VELOCITY;\n    }\n    public getVelUp(): number {\n        return this.velUp;\n    }\n\n    public setVelUp(): void {\n        this.velUp = VERTICAL_VELOCITY;\n    }\n    public getVelDown(): number {\n        return this.velDown;\n    }\n\n    public setVelDown(): void {\n        this.velDown = VERTICAL_VELOCITY;\n    }\n\n    public setVelDownReg(vel: number): void {\n        this.velDown = vel;\n    }\n\n    public zeroVelRight(): void {\n        this.velRight = 0;\n    }\n\n    public zeroVelLeft(): void {\n        this.velLeft = 0;\n    }\n\n    public zeroVelUp(): void {\n        this.velUp = 0;\n    }\n\n    public zeroVelDown(): void {\n        this.velDown = 0;\n    }\n}\nexport default Ocean;\n","import { LAT_VELOCITY, VERTICAL_VELOCITY, getHitBottomFlag } from \"./constants\";\nimport { ISprite } from \"./types\";\nimport {\n    sprites,\n    spritesL,\n    crashSprites,\n    crashSpritesL,\n} from \"../assets/data/sprites\";\nimport InitialValues from \"./initialValues\";\n\nconst pathSpriteR: string = \"./src/assets/sprites/sprite.png\";\nconst pathSpriteL: string = \"./src/assets/sprites/spriteL.png\";\nconst pathCrashSpriteR: string = \"./src/assets/sprites/crashSprite.png\";\nconst pathCrashSpriteL: string = \"./src/assets/sprites/crashSpriteL.png\";\n\nclass Sub {\n    private static instance: Sub;\n    private ctx: CanvasRenderingContext2D;\n    private initialValues: InitialValues;\n    private x: number;\n    private y: number;\n    private w: number;\n    private h: number;\n    private velRight: number;\n    private velLeft: number;\n    private velUp: number;\n    private velDown: number;\n    private spritesImageSrc: string; // this is the sprite sheet\n    private spriteSheet: HTMLImageElement;\n    private sprites: ISprite[];\n    private currentFrame: number;\n    private lastFrameTime: number;\n    private initialLatPos: number;\n    private initialVertPos: number;\n    private lastLatDir: string;\n\n    \n    private constructor(\n        ctx: CanvasRenderingContext2D,\n        initialValues: InitialValues,\n        x?: number,\n        y?: number,\n        width?: number,\n        height?: number,\n        velRight?: number,\n        velLeft?: number,\n        velUp?: number,\n        velDown?: number,\n        spritesImageSrc?: string,\n        sprites?: ISprite[],\n        currentFrame?: number,\n        lastFrameTime?: number\n    ) {\n        this.ctx = ctx;\n        this.initialValues = InitialValues.getInstance();\n        this.x = x || this.initialValues.getInitial_X();\n        this.y = y || this.initialValues.getInitial_Y();\n        this.w = width || 120; // size of the sub in px\n        this.h = height || 120; // size of the sub in px\n        this.velRight = velRight || 0;\n        this.velLeft = velLeft || 0;\n        this.velUp = velUp || 0;\n        this.velDown = velDown || 0;\n        this.spritesImageSrc = spritesImageSrc || pathSpriteR;\n        this.sprites = sprites;\n        this.currentFrame = currentFrame || 0;\n        this.lastFrameTime = lastFrameTime || 0;\n        this.initialLatPos = this.initialValues.getInitial_X();\n        this.initialVertPos = this.initialValues.getInitial_Y();\n        this.updateSprite = this.updateSprite.bind(this);\n        this.lastLatDir = \"right\";\n        this.spriteSheet = new Image();\n        this.spriteSheet.src = this.spritesImageSrc;\n    }\n\n    public static getInstance(ctx?: CanvasRenderingContext2D): Sub {\n        const initialValues = InitialValues.getInstance();\n        if (!Sub.instance) {\n            if (!ctx) {\n                throw new Error(\n                    \"A context must be provided when creating a new instance.\"\n                );\n            }\n            Sub.instance = new Sub(\n                ctx,\n                initialValues,\n                initialValues.getInitial_X(),\n                initialValues.getInitial_Y(),\n                120,\n                120,\n                0,\n                0,\n                0,\n                0,\n                pathSpriteR,\n                sprites,\n                0,\n                0\n            );\n        }\n        return Sub.instance;\n    }\n\n    public getX(): number {\n        return this.x;\n    }\n\n    public setX(x: number): void {\n        this.x = x;\n    }\n\n    public getY(): number {\n        return this.y;\n    }\n\n    public setY(y: number): void {\n        this.y = y;\n    }\n\n    public getW(): number {\n        return this.w;\n    }\n\n    public getH(): number {\n        return this.h;\n    }\n\n    public getVelRight(): number {\n        return this.velRight;\n    }\n\n    public setVelRight(): void {\n        this.velRight = LAT_VELOCITY;\n    }\n\n    public getVelLeft(): number {\n        return this.velLeft;\n    }\n\n    public setVelLeft(): void {\n        this.velLeft = LAT_VELOCITY;\n    }\n    public getVelUp(): number {\n        return this.velUp;\n    }\n\n    public setVelUp(): void {\n        this.velUp = VERTICAL_VELOCITY;\n    }\n    public getVelDown(): number {\n        return this.velDown;\n    }\n\n    public setVelDown(): void {\n        this.velDown = VERTICAL_VELOCITY;\n    }\n    public zeroVelRight(): void {\n        this.velRight = 0;\n    }\n\n    public zeroVelLeft(): void {\n        this.velLeft = 0;\n    }\n\n    public zeroVelUp(): void {\n        this.velUp = 0;\n    }\n\n    public zeroVelDown(): void {\n        this.velDown = 0;\n    }\n\n    public getInitialLatPos(): number {\n        return this.initialLatPos;\n    }\n    public getInitialVertPos(): number {\n        return this.initialVertPos;\n    }\n\n    public setLastLatDir(dir: string): void {\n        this.lastLatDir = dir;\n    }\n\n    draw() {\n        this.updateSpriteData();\n        const sprite = this.sprites[this.currentFrame];\n\n        this.ctx.drawImage(\n            this.spriteSheet,\n            sprite.x,\n            sprite.y,\n            sprite.width,\n            sprite.height,\n            this.getX(),\n            this.getY(),\n            this.getW(),\n            this.getH()\n        );\n    }\n\n    updateSprite() {\n        this.updateSpriteData();\n        const currentTime = Date.now();\n        const elapsedTime = currentTime - this.lastFrameTime;\n\n        if (elapsedTime > 1000 / 10) {\n            const sprite = this.sprites[this.currentFrame];\n            this.ctx.drawImage(\n                this.spriteSheet,\n                sprite.x,\n                sprite.y,\n                sprite.width,\n                sprite.height,\n                this.getX(),\n                this.getY(),\n                this.getW(),\n                this.getH()\n            );\n            this.currentFrame++;\n            if (this.currentFrame >= this.sprites.length) {\n                this.currentFrame = 0;\n            }\n            this.lastFrameTime = currentTime;\n\n            requestAnimationFrame(this.updateSprite);\n        }\n    }\n\n    private updateSpriteData() {\n        if (!getHitBottomFlag()) {\n            if (this.lastLatDir === \"right\") {\n                this.sprites = sprites;\n                this.spritesImageSrc = pathSpriteR;\n                this.spriteSheet = new Image();\n                this.spriteSheet.src = this.spritesImageSrc;\n            } else if (this.lastLatDir === \"left\") {\n                this.sprites = spritesL;\n                this.spritesImageSrc = pathSpriteL;\n                this.spriteSheet = new Image();\n                this.spriteSheet.src = this.spritesImageSrc;\n            }\n        } else {\n            if (this.lastLatDir === \"right\") {\n                this.sprites = crashSprites;\n                this.spritesImageSrc = pathCrashSpriteR;\n                this.spriteSheet = new Image();\n                this.spriteSheet.src = this.spritesImageSrc;\n            } else if (this.lastLatDir === \"left\") {\n                this.sprites = crashSpritesL;\n                this.spritesImageSrc = pathCrashSpriteL;\n                this.spriteSheet = new Image();\n                this.spriteSheet.src = this.spritesImageSrc;\n            }\n        }\n    }\n}\n\nexport default Sub;\n","// import Sub from \"./sub\";\n// import Ocean from \"./ocean\";\nimport { WIDTH, HEIGHT } from \"../index\";\nimport { getCurrentCanvas, setCurrentCanvas } from \"./constants\";\nimport { globalCockpit } from \"../index\";\nimport EdText from \"./edText\";\nimport Modal from \"./modal\";\nimport {\n    showDepth,\n    showLat,\n    showZone,\n    showDistToBottom,\n    showGeoDisplay,\n} from \"./boundary\";\n\n// export function clear(ctx:CanvasRenderingContext2D) {\n//     ctx.clearRect(0, 0, WIDTH, HEIGHT);\n// }\n// export function getCursorPosition(canvas:HTMLElement, event:MouseEvent):void {\n//     const rect = canvas.getBoundingClientRect();\n//     const x = event.clientX - rect.left;\n//     const y = event.clientY - rect.top;\n// }\n\n// canvas1 is the ocean\n// canvas2 is the opening page\n// canvas3 is the cockpit\nconst canvas1 = document.getElementById(\"canvas1\") as HTMLCanvasElement;\nconst canvas2 = document.getElementById(\"canvas2\") as HTMLCanvasElement;\nconst canvas3 = document.getElementById(\"canvas3\") as HTMLCanvasElement;\n\nconst gauge = document.querySelector(\".gaugeContainer\") as HTMLElement;\nconst instPanel = document.getElementById(\"instPanelContainer\") as HTMLElement;\nconst trieste3Container = document.getElementById(\n    \"trieste3Container\"\n) as HTMLElement;\nconst homeButton = document.getElementById(\"homeButton\") as HTMLElement;\nconst musicNoteButton = document.getElementById(\n    \"musicNoteButton\"\n) as HTMLElement;\nconst bubblesContainer = document.querySelector(\n    \".bubblesContainer\"\n) as HTMLElement;\nconst bubbles = bubblesContainer.getElementsByClassName(\n    \"bubble\"\n) as HTMLCollectionOf<Element>;\nconst edContainer = document.getElementById(\"edContainer\") as HTMLElement;\nconst edText = new EdText();\nconst modal = new Modal(\"modal\", \"close\");\n\nexport function showCanvas1() {\n    console.log('show canvas 1 was pressed')\n    //the ocean\n    setCurrentCanvas(1);\n    showDepth();\n    edText.updateEdText(1);\n    bubblesContainer.classList.add(\"hide\");\n    modal.displayModalInitially();\n    canvas1.style.display = \"block\";\n    canvas2.style.display = \"none\";\n    canvas3.style.display = \"none\";\n    gauge.classList.remove(\"hidegauge\");\n    trieste3Container.classList.add(\"hide\");\n    musicNoteButton.classList.add(\"can1MN\");\n    musicNoteButton.classList.remove(\"can2MN\");\n    musicNoteButton.classList.remove(\"can3MN\");\n    homeButton.classList.add(\"can1home\");\n    homeButton.classList.remove(\"can2home\");\n    homeButton.classList.remove(\"can3home\");\n    \n}\n\nexport function showCanvas2() {\n    //opening page\n    const goToOceanButton: HTMLElement = document.getElementById(\n        \"trieste3Container\"\n    ) as HTMLElement;\n    setCurrentCanvas(2);\n    edText.updateEdText(2);\n    canvas1.style.display = \"none\";\n    canvas2.style.display = \"block\";\n    canvas3.style.display = \"none\";\n    gauge.classList.add(\"hidegauge\");\n    trieste3Container.classList.remove(\"hide\");\n    musicNoteButton.classList.remove(\"can1MN\");\n    musicNoteButton.classList.add(\"can2MN\");\n    musicNoteButton.classList.remove(\"can3MN\");\n    homeButton.classList.remove(\"can1home\");\n    homeButton.classList.add(\"can2home\");\n    homeButton.classList.remove(\"can3home\");\n    goToOceanButton.addEventListener(\"click\", () => {\n        console.log('gotoOcean pressed')\n        showCanvas1();\n    });\n}\n\nexport function showCanvas3() {\n    //cockpit\n    globalCockpit.cockpit.draw();\n    setCurrentCanvas(3);\n    bubblesContainer.classList.add(\"hide\");\n    canvas1.style.display = \"none\";\n    canvas2.style.display = \"none\";\n    canvas3.style.display = \"block\";\n    canvas3.style.cursor = \"pointer\";\n    gauge.classList.add(\"hidegauge\");\n    trieste3Container.classList.remove(\"hide\");\n    musicNoteButton.classList.remove(\"can1MN\");\n    musicNoteButton.classList.remove(\"can2MN\");\n    musicNoteButton.classList.add(\"can3MN\");\n    homeButton.classList.remove(\"can1home\");\n    homeButton.classList.remove(\"can2home\");\n    homeButton.classList.add(\"can3home\");\n\n    edText.updateEdText(3);\n    showDepth();\n    showLat();\n    showGeoDisplay();\n    showDistToBottom();\n}\n","import {\n    EUPHOTIC_BENTHIC,\n    EUPHOTIC_PELAGIC,\n    DYSPHOTIC_BENTHIC,\n    DYSPHOTIC_PELAGIC,\n    APHOTIC_BENTHIC,\n    APHOTIC_PELAGIC,\n    VERTICAL_VELOCITY,\n    textObjects,\n} from \"./constants\";\nimport CalcConstant from \"./calcConstant\";\nimport { ITextObject } from \"./types\";\nimport InitialValues from \"./initialValues\";\nimport CalcPosition from \"./calcPosition\";\n\nclass Zone {\n    private initialValues: InitialValues;\n    private calcPosition: CalcPosition;\n    private calcConstants: CalcConstant;\n    private flag: number;\n    private oldFlag: number;\n\n    constructor() {\n        this.calcConstants = new CalcConstant();\n        this.initialValues = InitialValues.getInstance();\n        this.calcPosition = CalcPosition.getInstance();\n        this.flag = null;\n        this.oldFlag = null;\n    }\n    upDateZoneObject(): ITextObject {\n        this._getZone();\n\n        if (this.oldFlag !== this.flag) {\n            this.oldFlag = this.flag;\n            if (this.flag === EUPHOTIC_PELAGIC) {\n                return textObjects[0];\n            } else if (this.flag === EUPHOTIC_BENTHIC) {\n                return textObjects[1];\n            } else if (this.flag === DYSPHOTIC_PELAGIC) {\n                return textObjects[2];\n            } else if (this.flag === DYSPHOTIC_BENTHIC) {\n                return textObjects[3];\n            } else if (this.flag === APHOTIC_PELAGIC) {\n                return textObjects[4];\n            } else if (this.flag === APHOTIC_BENTHIC) {\n                return textObjects[5];\n            } else {\n                return textObjects[this.flag];\n            }\n        }\n        return textObjects[this.flag];\n    }\n\n    private _getZone(): void {\n        let vert = this.calcPosition.getCompVert();\n        let depth = this.calcPosition.calcDepthLimit();\n\n        if (vert > this.initialValues.getHeight() * -0.211) {\n            if (vert - depth > 5 * VERTICAL_VELOCITY) {\n                this.flag = EUPHOTIC_PELAGIC;\n            } else {\n                this.flag = EUPHOTIC_BENTHIC;\n            }\n        } else if (vert > this.initialValues.getHeight() * -0.45) {\n            if (vert - depth > 4 * VERTICAL_VELOCITY) {\n                this.flag = DYSPHOTIC_PELAGIC;\n            } else {\n                this.flag = DYSPHOTIC_BENTHIC;\n            }\n        } else {\n            if (vert - depth > 1 * VERTICAL_VELOCITY) {\n                this.flag = APHOTIC_PELAGIC;\n            } else {\n                this.flag = APHOTIC_BENTHIC;\n            }\n        }\n    }\n    getZoneObjectNumber(): number {\n        return this.upDateZoneObject().id;\n    }\n}\nexport default Zone;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\n__webpack_require__(607);\nvar __webpack_exports__ = __webpack_require__(37);\n"],"names":["sprites","x","y","width","height","spritesL","crashSprites","crashSpritesL","initialValues","getInstance","WIDTH","getWidth","HEIGHT","getHeight","globalCockpit","cockpit","audioFlag","backgroundImage","Image","src","document","addEventListener","canvas1","getElementById","canvas2","canvas3","gitHubButton","linkedInButton","musicNoteButton","homeButton","onload","ctx1","getContext","ctx2","ctx3","ocean","sub","debounceDraw","key","animateSprite","keyDown","drawCanvas2","showCanvas2","update","window","draw","printInitialViewPortStats","location","href","audio","toggleAudio","play","classList","add","pause","remove","e","rect","getBoundingClientRect","clearRect","requestAnimationFrame","updateSprite","console","log","clientX","left","clientY","top","innerWidth","visualViewport","innerHeight","getFullLatLimit","getFullVertLimit","getInitial_X","getInitial_Y","getOceanLatLimit","getOceanVertLimit","calcDepthLimit","calcPosition","calcConstant","depth","conversion","SEA_DEPTH","composite","getCompVert","depthGauge","IPDepthGauge","Math","floor","innerHTML","parseFloat","toFixed","IPDistToBottom","diff","IPZoneGauge","display","getMapPointObject","getCompLat","lat","ceil","abs","DIST_CA_TO_TRENCH","getDistCAtoTrench","title","upDateZoneObject","MAP_POINT_OBJECTS","point","getPreviousMapPointObject","num","filter","mapPoint","id","roundDownToNearestLatVel","VERTICAL_VELOCITY","roundDownToNearestVertVel","CalcConstant","oceanLat","oceanVert","subLat","subVert","handleOceanXChange","newX","compLat","handleSubXChange","oceanLatLimit","handleOceanYChange","newY","compVert","handleSubYChange","this","OorS","oceanVertLimit","eventBus","on","CalcPosition","instance","getOceanLat","getSubLat","getOceanVert","getSubVert","getOorS","dir","vert","latLimit","vertLimit","currentObject","i","length","lastMapPoints","calcPoint","coeff","currentPoints","error","index","lastMapPointObject","nextMapPointObject","startX","endX","startY","slope","result","isInstructions1Visible","instructions1","instructions2","docWidth","docX","bannerHeight","bannerY","instructionsHeight","instructionsY","drawImage","fillStyle","fillRect","font","fillText","imagesLoaded","onclick","ctx","canvas","InitialValues","cockpitImage","cockpitImageUrl","underImageUrl","underImage","images","getImage","style","zIndex","delay","debounceTimer","clearTimeout","setTimeout","Cockpit","stopMessageAnimation","messFlag","_CURRENT_CANVAS","getCurrentCanvas","setCurrentCanvas","value","_HIT_BOTTOM_FLAG","getHitBottomFlag","setHitBottomFlag","LAT_VELOCITY","EUPHOTIC_PELAGIC","EUPHOTIC_BENTHIC","DYSPHOTIC_PELAGIC","DYSPHOTIC_BENTHIC","APHOTIC_PELAGIC","APHOTIC_BENTHIC","MP_0","MP_1","MP_2","MP_3","MP_4","MP_5","MP_6","MP_7","MP_8","MP_9","MP_10","MP_11","MP_12","MP_13","MP_14","MP_15","MP_16","MAP_POINTS","MAP_POINT_COEFFS","mvmtLat","textObjects","text","cssOne","edContainer","edTitle","edText","textEls","textElStrings","textElSuffixes","textElTypes","instPanel","calcConstants","zone","updateEdText","canvasNum","setEdStyle","setEdText","getZoneObjectNumber","clearAllEdElementsClassList","forEach","textEl","idx","className","className2","clearEdContainer","initialEdSetup","textObject","textContent","clearOneEdElementClassList","element","item","EdText","listeners","event","callback","push","emit","data","eventListeners","listener","EventBus","ep","eb","dp","db","ap","ab","arrNum","arr","random","Images","updateWindowSize","bind","modal","cockpitModal","move","currentCanvas","newPos","navigate","showCanvas1","localStorage","getItem","hideModal","showCanvas3","showLat","showDepth","showGeoDisplay","showDistToBottom","getMove","setLastLatDir","Keymaster","modalId","closeButtonClass","closeButton","getElementsByClassName","target","setItem","displayModalInitially","showModal","getModalElement","Modal","depthLim","oldVert","showSurfaceModal","lOceanLim","vOceanLim","lFullLim","vFullLim","checkToIncreaseVel","reInitiateCoordinates","configureHitBottomMove","getLatMove","getVerticalMove","canvasNumber","mvmt","moveOceanRight","moveOceanLeft","moveOceanUp","moveSubRight","moveSubLeft","moveSubUp","setX","getX","setY","getY","moveOceanDown","moveSubDown","mapPointObject","increaseVelFlag","latVel","vertVel","surfaceModal","vertLim","Move","oceanImage","velRight","velLeft","velUp","velDown","handleResize","Ocean","Error","getVelRight","setVelRight","getVelLeft","setVelLeft","getVelUp","setVelUp","getVelDown","setVelDown","setVelDownReg","vel","zeroVelRight","zeroVelLeft","zeroVelUp","zeroVelDown","pathSpriteR","spritesImageSrc","currentFrame","lastFrameTime","w","h","initialLatPos","initialVertPos","lastLatDir","spriteSheet","Sub","getW","getH","getInitialLatPos","getInitialVertPos","updateSpriteData","sprite","currentTime","Date","now","gauge","querySelector","trieste3Container","bubblesContainer","goToOceanButton","cursor","flag","oldFlag","_getZone","Zone","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","call"],"sourceRoot":""}